# Ds-Delivery
DS Delivery was developed with the aim of reviewing the bases of POO and JDBC with Postgres

The objective of this project was to review the concepts of Object Orientation in Java, using JDBC and the Postgres Database.

## Revised concepts:

- Primary key, foreign key
- DDL (create table, alter table)
- SQL
    - INSERT
    - SELECT
    - INNER JOIN
- Classes and objects
- Encapsulation, get/set and ToString
- enumerated types
- Composition of objects
- Collections (list, map)
- Access data in relational DB and instantiate corresponding objects

## Prerequisites

- git
- JDK
- STS (or another IDE)
- Postgres server
- pgAdmin

### To run the project, you must install the software mentioned above, follow these steps:

1. Type in your terminal in a folder of your choice
    
    ```bash
    git clone https://github.com/WendelLuanEC/Ds-Delivery
    ```
    
2. Open and configure Postgres, copy the following DLL codes into the shell and run them **ONLY ONCE EACH.**
3. Then open the project in an IDE of your choice
4. Run the Program.java class, which contains the main function, and see the data fetched from the server being returned in the IDE's terminal
5. If any problem is detected, check the db.properties file, and change the database user and password definitions according to the default user.
6. Done! With updated user definitions, the system runs smoothly.

### Creation and instantiation of tables used by the system

```sql
create table tb_order (
    id int8 generated by default as identity, 
    latitude float8, 
    longitude float8, 
    moment TIMESTAMP WITHOUT TIME ZONE, 
    status int4, 
    primary key (id)
);

create table tb_order_product (
    order_id int8 not null, 
    product_id int8 not null, 
    primary key (order_id, product_id)
);

create table tb_product (
    id int8 generated by default as identity, 
    description TEXT, 
    image_uri varchar(255), 
    name varchar(255), 
    price float8, 
    primary key (id)
);
```

Now let's reference the Product and Order tables

```sql
alter table if exists tb_order_product add constraint fk_tb_order_product_tb_product 
foreign key (product_id) references tb_product;

alter table if exists tb_order_product add constraint fk_tb_order_product_tb_order 
foreign key (order_id) references tb_order;
```

Now, let's populate our tables, so that we can test the application.

```sql
INSERT INTO tb_product (name, price, image_Uri, description) VALUES 
('Pizza de Calabresa', 50.0, 'https://github.com/devsuperior/1.png', 'Pizza calabresa com queijo, molho e massa especial'),
('Pizza Quatro Queijos', 40.0, 'https://github.com/devsuperior/2.png', 'Pizza quatro queijos muito boa'),
('Pizza de Escarola', 60.0, 'https://github.com/devsuperior/3.png', 'Pizza escarola muito boa');

INSERT INTO tb_order (status, latitude, longitude, moment) VALUES 
(0, 213123, 12323, TIMESTAMP WITH TIME ZONE '2021-01-04T11:00:00Z'),
(1, 3453453, 3534534, TIMESTAMP WITH TIME ZONE '2021-01-05T11:00:00Z');

INSERT INTO tb_order_product (order_id, product_id) VALUES 
(1 , 1),
(1 , 2),
(2 , 2),
(2 , 3);
```

Below is the code used to retrieve the orders with their proper products

```sql
SELECT * FROM tb_order
INNER JOIN tb_order_product ON tb_order.id = tb_order_product.order_id
INNER JOIN tb_product ON tb_product.id = tb_order_product.product_id
```
This project was developed during an OO and JDBC review class. Follow the video link: https://www.youtube.com/watch?v=xC_yKw3MYX4

I would like to thank the professor, who kindly contributed to my training as a Software Engineer.


